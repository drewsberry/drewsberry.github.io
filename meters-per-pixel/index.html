<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Calculating meters per pixel from aerial photographs &middot; Drew Silcock
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/bootstrap_button.css">

  <!-- CDNs-->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52653050-1', 'auto');
  ga('send', 'pageview');

</script>

  <script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Drew Silcock
        </a>
      </h1>
      <p class="lead">Maybe somebody, somewhere will find this useful.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/download/">Download</a>
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/drewsberry/drewsberry.github.io">GitHub project</a>
      <span class="sidebar-nav-item">Currently v1.0.2</span>
    </nav>

    <p>&copy; 2014. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Calculating meters per pixel from aerial photographs</h1>
  <span class="post-date">21 Jul 2014</span>
  <h2 id="aim">Aim</h2>

<p>The aim of this post is to demonstrate how to calculate the number of meters a single pixel takes up in a photo, when taken pointing directly downwards from an aerial position such as a UAV. The example values given are those taken from the Canon Ixus 132 I am currently working with.</p>

<h2 id="trigonometry">Trigonometry</h2>

<p>Firstly, let’s look at how we can go from the information we have to the information we need. We need to know the following to compeltely determine the <abbr title="Meters Per Pixel">MPP</abbr> (meters per pixel):</p>

<ul>
  <li>Resolution of the camera</li>
  <li>Height from which photo was taken</li>
  <li>Angle of view of the camera</li>
</ul>

<p>Then let us parametrise the situation as follows:</p>

<ul>
  <li>Ground distances photographed in horizontal and vertical, respectively: \(x\) and \(y\)</li>
  <li>Resolution of camera: \(r_x\) and \(r_y\)</li>
  <li>Height from which photo was taken: \(h\)</li>
  <li>Angle of view of the camera: \(\alpha_x\) and \(\alpha_y\)</li>
  <li>MMP: \(\mu_x\) and \(\mu_y\)</li>
</ul>

<p>The following diagrams illustrate the horizontal and vertical views that the camera sees:</p>

<p><img src="../public/media/horizontal_view.svg" alt="horizontal view" /></p>

<hr />

<p><img src="../public/media/vertical_view.svg" alt="vertical view" /></p>

<p>It is clear by basic trigonometry that the tangent of half the angle of view is equal to half the ratio of the ground distance and the height. As parametrised:</p>

<p>\[ \tan\left(\frac{\alpha_x}{2}\right) = \frac{x}{2h} \]</p>

<p>And the same for \(y\) Rearranging this for \(x\):</p>

<p>\[ x = 2h\tan\left(\frac{\alpha_x}{2}\right) \]</p>

<p>Then the MMP is given by:</p>

<p>\[ \mu_x = \frac{x}{r_x} = \frac{2h\tan\left(\frac{\alpha_x}{2}\right)}{r_x} \]</p>

<h2 id="finding-camera-resolution">Finding camera resolution</h2>

<p>The camera resolution should be displayed on the camera specifications, or in the camera settings dialogue. If you don’t have access to this information, it can also be read directly from the EXIF metadata using <a href="http://www.sno.phy.queensu.ca/~phil/exiftool/"><code>exiftool</code></a>:</p>

<div class="highlight"><pre><code class="bash"><a name="True-1"></a>&gt; exiftool photo.jpg
<a name="True-2"></a>...
<a name="True-3"></a>Image Size: 4608x3456 <span class="c"># This is the camera resolution</span>
<a name="True-4"></a>...
</code></pre></div>

<h2 id="finding-angle-of-view">Finding angle of view</h2>

<p>The angle of view of a camera can be calculated from the camera’s effective focal length, \(f\) (which excluding macro photography is approximately equal to the stated focal length), and the dimension of the sensor in that direction, \(d\) as follows:</p>

<p>\[ \alpha = 2\arctan\left(\frac{d}{2f}\right) \]</p>

<p>The focal length is stated on the camera specs. For my Ixus 132 the stated focal length is 5.0 mm.</p>

<p>To find the dimension of the camera sensor, you need to know what type of sensor it is. It’ll either be a CCD sensor (Charge Coupled Device) or a CMOD sensor (Complementary Metal-Oxide Semiconductor).</p>

<p>This image, courtesy of <a href="http://www.gizmag.com/camera-sensor-size-guide/26684/pictures#1">gizmag</a>, show the dimensions of various common sensor sizes:</p>

<p><img src="../public/media/sensor_sizes.jpg" alt="sensor sizes" /></p>

<p>If your sensor is not listed here, then Wikipedia has a full table of listings for every sensor imaginable over on the page for <a href="https://en.wikipedia.org/wiki/Image_sensor_format#Table_of_sensor_formats_and_sizes">Image sensor format</a>.</p>

<p>For instance, my camera has a 1/2.3” CCD, meaning it has dimensions 6.17 mm by 4.55 mm.</p>

<p>Thus, plugging these values into the equation above, my camera has angles of view of:</p>

<p>\[ \alpha_x = 63.3^{\circ} \\\<br />
   \alpha_y = 48.9^{\circ} \]</p>

<h2 id="conclusion">Conclusion</h2>

<p>Then plugging these values into the formula given above, the MMP as a function of height is:</p>

<p>\[ \mu_x = 0.2675h ~\mathrm{mm/pixel} \\\<br />
   \mu_y = 0.2631h ~\mathrm{mm/pixel} \]</p>

<p>Where \(h\) is in meters. Thus at a typical UAV flight height of \(h = 100~\mathrm{m}\) , the MMP is 2.68 cm per pixel in the horizontal and 2.63 cm per pixel in the vertical.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/custom-jekyll-plugins">
            Custom Jekyll plugins with GitHub Pages
            <small>29 Jul 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/proper-linenumbers">
            Proper line numbers with Jekyll
            <small>18 Jul 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/personal-cheatsheet">
            Personal cheatsheet
            <small>15 Jul 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>

</html>

